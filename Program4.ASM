INCLUDE LIBMACRO.INC
;PROGRAMA VUKONYE OBCHUSLENNIA ZA FORMULOY t=(1+x^2)/(1+y^2)-(a+b+1)/(2*a-1)
;ZMINNI VELUCHUNU DVOBAITOVI
PROGRAM V15
.CONST
PX DB 'VVEDIT X=',0
PY DB 'VVEDIT Y=',0
PA DB 'VVEDIT A=',0
PB DB 'VVEDIT B=',0
.DATA
T DW ?
X DW ?
Y DW ?
A DW ?
B DW ?
SUM1 DW ?
SUM2 DW ?

CHASTKA DW ?
OSTACHA DW ?

CHASTKA2 DW ?
OSTACHA2 DW ?
START
WLINEZ PX
RWORD X
MOV AX,X
IMUL X      ;ZNAXODUMO X^2
ADD AX,1    ;DODAEMO 1
MOV X,AX    ;X:=(1+X^2)

WLINEZ PY
RWORD Y
MOV AX,Y
IMUL Y      ;ZNAXODUMO Y^2
ADD AX,1    ;DODAEMO 1
MOV Y, AX   ;Y:=(1+Y^2)

MOV AX,X    ;X ZANOSUMO V AX
IDIV Y      ;AX DILUMO ZNAKOVO NA Y
MOV OSTACHA,AX
MOV CHASTKA,DX

WLINEZ PA
RWORD A
WLINEZ PB
RWORD B


MOV AX,A
ADD AX,B
MOV SUM1,AX
INC SUM1
MOV DX,2
MOV AX,A
IMUL DX       ;AX:=(2*A)
DEC AX        ;AX:=(2*A-1)
MOV SUM2,AX   ;SUM2:=(2*A-1)

MOV AX,SUM1
IDIV SUM2

MOV OSTACHA2,AX ;ZAP CHASTKY DRYGOGO CHUSLA
MOV CHASTKA2,DX
MOV AX,OSTACHA 
MOV DX,CHASTKA

SUB AX,OSTACHA2
SUB DX,CHASTKA2
;MOV AX,CHASTKA
;MOV DX,OSTACHA

WWORD AX
WWORD BX 
PAUSE
RETURN
END V15